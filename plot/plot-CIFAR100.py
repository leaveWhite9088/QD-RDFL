import matplotlib.pyplot as plt
import numpy as np

if __name__ == "__main__":
    # 准备数据
    U_qn_list = [0.0974914761020648, 0.10117302119959581, 0.07154277742039952, 0.04897571914326053, 0.03637430387264995, 0.02774519428687069, 0.022486311072864057, 0.017942487329788773, 0.014868887868075786, 0.01233630947848351, 0.01088983814164183, 0.00983844547755976, 0.008878008777111803, 0.007498921249234902, 0.006708341126508102, 0.006538562577365396, 0.006033293154106451, 0.005287808886609209, 0.004594516749119548, 0.004370720070700321, 0.0046211371116978706, 0.004193283788065778, 0.00407839472642571, 0.0035330746220445697, 0.003401148339215582, 0.003196368380894868, 0.0029449210701891454, 0.0029922341846441197, 0.002814646368074262, 0.0027209757729396516, 0.002971949618002734, 0.0029679112743748242, 0.0025898854395931797, 0.002299632649842977, 0.0025148966048976454, 0.002409942390949364, 0.002415005251399506, 0.0021837515393000975, 0.002117553831435676, 0.002279089086147647, 0.0021660892551814692, 0.0025576293386817034, 0.002071140011881987, 0.002209915649767888, 0.002236971497772056, 0.002241688363265976, 0.0019424222068230856, 0.0020028509999926833, 0.0018294309763207117, 0.001916196167512768, 0.0024437657568046867, 0.002292098187556587, 0.0020150982924856584, 0.0018196195475852655, 0.001670223037552408, 0.0018635647443093625, 0.0019683704177956016, 0.0020907867401788994, 0.0016692439538399531, 0.0020172589948936562, 0.0019651807746591077, 0.00220350498527886, 0.0017293829226673052, 0.001897259976602024, 0.001415703851754346, 0.0019102592941564898, 0.0014291244985051397, 0.003194938255866572, 0.0014761098168755752, 0.0024811820439559307, 0.0021549793143002013, 0.002779627698099585, 0.0034142959517224603, 0.0027377594152260916, 0.002778093082377408, 0.003560810282049064, 0.0040599881370518304, 0.0031651342949987446, 0.0032349481045744364, 0.002658096353720226, 0.0037504613579811153, 0.003947621833538423, 0.0015082344985845122, 0.0038839663026014773, 0.004153298776546646, 0.003792993123721844, 0.0045354472869699285, 0.004478026558519658, 0.003423463978619, 0.004564129885754689, 0.04227543906312922, 0.003746056607187414, 0.003789722793368476, 0.003889236501512917, 0.0048782211654661385, 0.004879692588156945, 0.005040968078405105, 0.0042965034587994595, 0.005807566308556087, 0.005194064942293976]
    U_qn_list2 = [0.09224520889926804, 0.09099329163937135, 0.049112198129851486, 0.031851778734838285, 0.020847498064695047, 0.027455740509846813, 0.01629480612019628, 0.011991165543434244, 0.013505733451601798, 0.009262829148319753, 0.010740600863174835, 0.006439039601377492, 0.004701921221524749, 0.006782004246241587, 0.0049733144126896875, 0.004868124999423038, 0.0032515995196829386, 0.0043270005952362744, 0.0022348159847645375, 0.0019158271686371144, 0.002160640348564477, 0.001645207186094892, 0.009156143438335707, 0.00048191841927251565, -7.154394110320261e-05, -0.0014256789084782311, 0.0005160661025914448, -0.0022372934874784413, -0.00250559738868729, -0.0012482140055501644, -0.003206223157850338, -0.0035252526635229054, -0.0017159925450777015, -0.0027800224236481305, -0.002590820832849786, -0.0055945903520642154, -0.0033172765161483646, -0.004686617658420184, -0.005051416981172485, -0.002753807048740411, -0.003987886116855125, -0.00490414568713441, -0.0038352381143701027, -0.006448511289164171, -0.004090904834484652, -0.006026997969923685, -0.0041131798795288055, -0.0032919353790952775, -0.005007231801903294, -0.007874155135185528, -0.007520852469577595, -0.0071129600500818724, -0.006883253879171913, -0.005152807874283431, -0.008787424608301845, -0.006008367913894514, -0.011092782085301848, -0.008900450252691277, -0.008440332821510093, -0.009531501140022597, -0.0044141646230792635, -0.007912938670364989, -0.007608198991801481, -0.007017044256061188, -0.007245429988990979, -0.007087554532396477, -0.010005672393732705, -0.007897087604612213, -0.010551199014821986, -0.010551199014821986, -0.010551199014821986, -0.008297284783655958, -0.008297284783655958, -0.011930636456541143, -0.011930636456541143, -0.011930636456541143, -0.011930636456541143, -0.015103539107970935, -0.016433116997806446, -0.015237335291357913, -0.015237335291357913, -0.010809552032079795, -0.010809552032079795, -0.010809552032079795, -0.010809552032079795, -0.010809552032079795, -0.010809552032079795, -0.013995838927872676, -0.013995838927872676, -0.013995838927872676, -0.01566708225823991, -0.01566708225823991, -0.01566708225823991, -0.01566708225823991, -0.01566708225823991, -0.01566708225823991, -0.01566708225823991, -0.018530740001467587, -0.018530740001467587, -0.018530740001467587]
    U_qn_list3 = [0.2506925207667152, 0.11215489657937694, 0.06359645432102337, 0.041032164763257925, 0.02882633157340701, 0.02131381428977159, 0.016660039354164796, 0.013311929328069905, 0.011016365594488375, 0.009255264649873555, 0.008135191814861989, 0.006997876351470218, 0.005911456851435602, 0.005255248012823651, 0.004800194597375053, 0.003378158663182134, 0.003918923940934355, 0.0032010688296044754, 0.0030767722739877155, 0.0012974969324804273, 0.0016282868289240597, 0.0005588259735230419, -0.0003707622384729048, -0.00028388733506704787, -0.0010653527400051876, -0.0014962551295565915, -0.0013446476526079681, -0.0005991786662577817, -0.0008784483600240867, -0.003613813733689917, -0.002206037232813325, -0.0024108995593954746, -0.004781147620318939, -0.0036956376012610816, -0.0020178340216996135, -0.00382617432819628, -0.00313903045966983, -0.0019923900900422732, -0.003961374541195895, -0.004089456501968632, -0.005962962591005329, -0.002703073205769274, -0.004553221021928359, -0.00476123281935843, -0.00484134974000467, -0.006475727918481334, -0.005611406888976285, -0.007039974797345478, -0.005886814700713181, -0.005714922765317862, -0.005291332978050294, -0.004566371422945887, -0.006198017301207829, -0.007283030283135305, -0.0050995465171278865, -0.005759914594928193, -0.0066649881698796236, -0.005223338988282657, -0.005794048612927901, -0.007267661174863277, -0.006893096727167919, -0.00705970495865666, -0.007223734735741172, -0.006869957506436084, -0.007601572257072226, -0.008131431265463182, -0.007690871451138768, -0.007672621202266407, -0.007548550447518822, -0.0075952710282549745, -0.007954610696252338, -0.006623723514692337, -0.00630666843635233, -0.007073623051527692, -0.008277395353429423, -0.007326237605928212, -0.007003896774097313, -0.007036702307597285, -0.008483278269789849, -0.008190777596557612, -0.009964920586171572, -0.008167137972939687, -0.008167137972939687, -0.008167137972939687, -0.008167137972939687, -0.009099824759447947, -0.008110787524245206, -0.0077403615722391505, -0.009019803585593615, -0.007995017592772893, -0.009436009676009993, -0.007910469619058948, -0.010241307484888985, -0.008699655494480775, -0.009905573019191706, -0.008343761578628121, -0.007100304046040041, -0.009592627897363475, -0.008150218708850094, -0.008150218708850094]

    x = np.arange(len(U_qn_list))  # 客户端数量

    plt.plot(x, U_qn_list, label='QD-RDFL')
    plt.plot(x, U_qn_list2, label='RANDOM')
    plt.plot(x, U_qn_list3, label='FIX')

    plt.legend()
    plt.title('MNIST')
    plt.xlabel('round')
    plt.ylabel('Uqn')

    plt.show()
