import matplotlib.pyplot as plt
import numpy as np


# 绘制折线图的函数。
def plot_line_chart(x_data, y_data, title='Line Chart', xlabel='X Axis', ylabel='Y Axis', marker='o', linestyle='-',
                    color='b', grid=False):
    """
    绘制折线图的函数。

    参数:
    x_data (list): x轴的数据点列表。
    y_data (list): y轴的数据点列表。
    title (str): 图表的标题，默认为'Line Chart'。
    xlabel (str): x轴的标签，默认为'X Axis'。
    ylabel (str): y轴的标签，默认为'Y Axis'。
    marker (str): 数据点的标记类型，默认为'o'。
    linestyle (str): 线条的样式，默认为'-'。
    color (str): 线条的颜色，默认为'b'（蓝色）。
    grid (bool): 是否显示网格，默认为False。
    """

    # 绘制折线图
    plt.plot(x_data, y_data, marker=marker, linestyle=linestyle, color=color, linewidth=0.3, markersize=1)

    # 添加标题和轴标签
    plt.title(title)
    plt.xlabel(xlabel)
    plt.ylabel(ylabel)

    # 根据参数决定是否显示网格
    if grid:
        plt.grid(True)

    # 显示图表
    plt.show()


if __name__ == "__main__":
    # 准备数据
    U_qn_list = [-0.0004162068424081976, 2.959124771157755e-17, 0.00025144233705764844, 0.0003419988817008751,
                 0.0002754275499754835, 5.537012726113122e-05, -0.00031464328014622206, -0.0008311899966623598,
                 -0.0014909507215129097, -0.0022907056552042976, -0.0032273307988721495, -0.004297794417571554,
                 -0.0054991536590984075, -0.006828551320420179, -0.008283212754252284, -0.00986044290874466,
                 -0.011557623493643449, -0.013372210266668932, -0.01530173043420091, -0.01734378016069385,
                 -0.01949602218155211, -0.021756183514485217, -0.024122053264636623, -0.02659148051903265,
                 -0.029162372326140246, -0.03183269175654685, -0.03460045604098691, -0.0374637347821411,
                 -0.04042064823681904, -0.04346936566531587, -0.046608103744897156, -0.049835125044524586,
                 -0.05314873655808183, -0.056547288293499975, -0.060029171915311874, -0.06359281943829109,
                 -0.06723670196994558, -0.07095932849974751, -0.07475924473308587, -0.07863503196802657,
                 -0.08258530601305691, -0.08660871614408089, -0.09070394409901406, -0.09486970310840692,
                 -0.09910473696059857, -0.10340781909997443, -0.10777775175696874, -0.11221336510851526,
                 -0.11671351646771028, -0.1212770895015084, -0.12590299347532802, -0.13059016252348982,
                 -0.1353375549444661, -0.14014415251996065, -0.14500895985688478, -0.14993100375133644,
                 -0.15490933257372813, -0.15994301567424862, -0.16503114280787756, -0.1701728235782075,
                 -0.17536718689935865, -0.18061338047530395, -0.18591057029595126, -0.19125794014935504,
                 -0.1966546911494616, -0.20210004127880954, -0.2075932249456401, -0.21313349255488734,
                 -0.21872011009254472, -0.22435235872292353, -0.23002953439833967, -0.2357509474807828,
                 -0.2415159223751409, -0.2473237971735721, -0.2531739233106281, -0.25906566522875346,
                 -0.26499840005379854, -0.2709715172801968, -0.2769844184654736, -0.28303651693376436,
                 -0.28912723748803526, -0.29525601613070696, -0.3014222997924, -0.307625546068525, -0.31386522296345587,
                 -0.32014080864203154, -0.32645179118814327, -0.332797668370172, -0.3391779474130515,
                 -0.3455921447767385, -0.3520397859408806, -0.3585204051954831, -0.3650335454373774,
                 -0.37157875797230544, -0.3781556023224417, -0.38476364603917756, -0.391402464521001,
                 -0.3980716408363111, -0.4047707655510121, -0.4114994365607376, -0.4182572589275587,
                 -0.4250438447210394]

    x = np.arange(0.01, 1.03, 0.01)  # 客户端数量

    # 绘制折线图
    plot_line_chart(x, U_qn_list, title='U_qn', xlabel='xn', ylabel='U(qn)', linestyle='--', grid=True)
