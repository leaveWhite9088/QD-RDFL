import matplotlib.pyplot as plt


# 绘制折线图的函数。
def plot_line_chart(x_data, y_data, title='Line Chart', xlabel='X Axis', ylabel='Y Axis', marker='o', linestyle='-',
                    color='b', grid=False):
    """
    绘制折线图的函数。

    参数:
    x_data (list): x轴的数据点列表。
    y_data (list): y轴的数据点列表。
    title (str): 图表的标题，默认为'Line Chart'。
    xlabel (str): x轴的标签，默认为'X Axis'。
    ylabel (str): y轴的标签，默认为'Y Axis'。
    marker (str): 数据点的标记类型，默认为'o'。
    linestyle (str): 线条的样式，默认为'-'。
    color (str): 线条的颜色，默认为'b'（蓝色）。
    grid (bool): 是否显示网格，默认为False。
    """

    # 绘制折线图
    plt.plot(x_data, y_data, marker=marker, linestyle=linestyle, color=color)

    # 添加标题和轴标签
    plt.title(title)
    plt.xlabel(xlabel)
    plt.ylabel(ylabel)

    # 根据参数决定是否显示网格
    if grid:
        plt.grid(True)

    # 显示图表
    plt.show()


if __name__ == "__main__":
    # 准备数据
    U_qn_list = [9.084331145450819e-07, -0.00014935838399141727, -0.00044739838236248705, -0.000889910813844319,
                 -0.0014736925070257534, -0.002195634287985644, -0.00305271755744288, -0.004042011016393676,
                 -0.005160667532774915, -0.006405921142117771, -0.007775084175554281, -0.009265544508912288,
                 -0.010874762926984416, -0.012600270597384, -0.014439666648709104, -0.016390615848023732,
                 -0.018450846372937646, -0.02061814767381817, -0.022890368421910362, -0.02526541453936318,
                 -0.027741247307373262, -0.030315881548855672, -0.03298738388223907, -0.035753871043158414,
                 -0.0386135082709855, -0.041564507757293506, -0.044605127153498986, -0.04773366813506552,
                 -0.0509484750197835, -0.05424793343776402, -0.057630469050904076, -0.061094546319687804,
                 -0.0646386673152971, -0.06826137057509823, -0.07196122999967047, -0.07573685378962713,
                 -0.0795868834205638, -0.08350999265454845, -0.08750488658664224, -0.0915703007250126,
                 -0.09570500010326372, -0.09990777842367721, -0.1041774572301139, -0.108512885109386,
                 -0.11291293691996246, -0.11737651304692204, -0.12190253868211859, -0.12648996312856858,
                 -0.13113775912811432, -0.13584492221146122, -0.14061047006972288, -0.14543344194664992,
                 -0.15031289805075237, -0.1552479189865596, -0.16023760520429486, -0.16528107646727375,
                 -0.17037747133636189, -0.17552594667086086, -0.1807256771452112, -0.18597585478093492,
                 -0.19127568849325532, -0.1966244036518638, -0.2020212416553192, -0.20746545951858947,
                 -0.21295632947326387, -0.21849313857998387, -0.22407518835266155, -0.22970179439406535,
                 -0.23537228604237725, -0.24108600602833757, -0.24684231014260716, -0.2526405669129953,
                 -0.25848015729121426, -0.2643604743488309, -0.2702809229821063, -0.27624091962541714,
                 -0.2822398919729732, -0.28827727870854913, -0.294352529242964, -0.3004651034590513,
                 -0.30661447146386833, -0.31280011334791047, -0.3190215189510974, -0.3252781876353108,
                 -0.3315696280632706, -0.33789535798354653, -0.3442549040215024, -0.35064780147598884,
                 -0.3570735941215981, -0.36353183401630196, -0.3700220813143077, -0.3765439040839629,
                 -0.3830968781305548, -0.389680586823847, -0.39629462093021184, -0.4029385784492111,
                 -0.40961206445449116, -0.41631469093885975, -0.42304607666341587, -0.42980584701060964]

    x = range(2, len(U_qn_list) + 2)  # 客户端数量

    # 绘制折线图
    plot_line_chart(x, U_qn_list, title='U_qn', xlabel='N', ylabel='U(qn)/N', marker='o', linestyle='--',
                    color='g', grid=True)
