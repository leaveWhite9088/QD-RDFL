import matplotlib.pyplot as plt
import numpy as np
import matplotlib

# 设置全局字体为 Times New Roman
matplotlib.rcParams['font.family'] = 'Times New Roman'
matplotlib.rcParams['font.size'] = 14  # 同时设置字体大小

# 定义用户数量
users = np.arange(0, 100)

# 定义不同策略下的BS效用
utility_qdrdfl = [0.03380193622101457, 0.2412659753941233, 0.35420249150333727, 0.42538200229905576,
                  0.48054247500407077, 0.49930111808109356, 0.5391714836970669, 0.5687192151439608, 0.5833006163794903,
                  0.5820492392044982, 0.616279889181131, 0.6466966150509659, 0.6225915478300528, 0.6239197805164178,
                  0.6458594394584505, 0.6526232743505369, 0.6550116284524057, 0.6549107990540983, 0.664923018730802,
                  0.6562622721844071, 0.6722128649477892, 0.6616435006724051, 0.6691579872033067, 0.6785624802012917,
                  0.6741148547591125, 0.6636745306774317, 0.6947817963312912, 0.6845531808066354, 0.6905576359519647,
                  0.687578108264103, 0.6811064726740319, 0.6886145882736985, 0.7023606484946143, 0.7020533837781269,
                  0.7011418030739731, 0.6828296520449488, 0.7037180154782234, 0.7185168014961649, 0.7078080128046575,
                  0.7025652936349513, 0.6965784456442257, 0.6839175581699202, 0.7053414363840693, 0.7098013172615525,
                  0.700489914011277, 0.7017937946969031, 0.7098782037564992, 0.7116252565238657, 0.704924418737567,
                  0.7122581547822973, 0.7056024963256613, 0.6991317691229428, 0.7090417391682031, 0.7037183540978802,
                  0.7130140519614023, 0.7154235852566277, 0.7035591324686306, 0.7114131530438295, 0.7175925564233421,
                  0.7221508988997167, 0.7139379843930878, 0.7166911903830788, 0.7182434592519062, 0.721457590441944,
                  0.7050096689725414, 0.7231821212189462, 0.7098639764635981, 0.6763355818050576, 0.6760586040257457,
                  0.6256730084017006, -6.836531240388627, -7.147424363842589, 0.6259512987034008, 0.6038631174058042,
                  0.503199290053916, 0.48689754010533326, 0.4654100835689019, 0.4762012598218175, 0.5226444318990113,
                  0.23577374468341272, 0.26759718639630803, 0.31035754351376355, 0.2503126890225209,
                  0.16528577505722541, 0.025864989466456212, 0.20607268163010772, 0.3004771753809585,
                  0.2395101574906695, 0.0355891761382372, 0.16953604335400296, 0.13493276491219675, -26.46631446452296,
                  0.07903502873011403, -0.24685189642341143, -28.33786065579583, -0.3445333908210486,
                  -0.433934827609181, -0.7160428922678044, -0.5062849659527595, -0.6987963337862872]

utility_random = [0.03239211226890715, 0.24016952337502728, 0.30049475900510336, 0.4112176149658193, 0.4762359696339078,
                  0.48987418237773106, 0.5383998537219823, 0.5628289580637127, 0.5832781501289392, 0.5812309203637929,
                  0.5469018537383854, 0.5663684476268781, 0.6174773035902361, 0.6100877135823506, 0.644927295502407,
                  0.6337605961432211, 0.6449043316705527, 0.6544870427596112, 0.6304560928065404, 0.5396453729376057,
                  0.6721476243977564, 0.6117779757345373, 0.6678621162102987, 0.645145574385392, 0.671199403679402,
                  0.6140529510905658, 0.6627800938512243, 0.6283535288876314, 0.6551818144675636, 0.6755590351551355,
                  0.560117479682659, 0.6263815507829377, 0.6982805104286072, 0.6935621483240484, 0.6702612582996046,
                  0.6808170917921359, 0.6985724637325252, 0.7184174607909775, 0.6708544701776247, 0.6856595470472149,
                  0.6589935605761563, 0.5818875209672623, 0.6947730488155932, 0.6733111809416146, 0.5893526667708567,
                  0.6606069990472176, 0.6491396702245585, 0.5880325749262106, 0.6923537238976814, 0.6385032019085884,
                  0.589711563286003, 0.6177215083354904, 0.7070938892297689, 0.6272136848487364, 0.583441449037513,
                  0.7128259208069443, 0.7030832843125192, 0.7010028334825744, 0.6968612340113505, 0.7114104705046096,
                  0.7003242813059389, 0.6947876180656918, 0.588759597646676, 0.6887809861769498, 0.7025979525598156,
                  0.6469533247203936, 0.7056909549517427, 0.7056909549517427, 0.7056909549517427, 0.7056909549517427,
                  -4.2314208117311765, -2.010854567457727, -2.010854567457727, 0.7003396271368867, 0.7003396271368867,
                  0.712169560202558, 0.712169560202558, 0.7221725803251631, 0.7221725803251631, 0.7221725803251631,
                  0.7221725803251631, 0.700567560950466, 0.700567560950466, 0.700567560950466, 0.700567560950466,
                  0.700567560950466, 0.6849287199362244, 0.6611230372462313, 0.6611230372462313, 0.6611230372462313,
                  0.6611230372462313, -14.08680328743311, -14.08680328743311, -14.08680328743311, -15.232989235593793,
                  -15.232989235593793, -15.232989235593793, -15.232989235593793, -15.232989235593793,
                  -15.232989235593793]

utility_fix = [-0.030586172447248705, 0.24064202042489224, 0.35189420130712756, 0.417799047929744, 0.46739871468888694,
               0.48403223316522137, 0.5190509945793582, 0.5447431517476078, 0.5573491664855144, 0.5562690958158731,
               0.5857007018035705, 0.6116717506544165, 0.5911031458876792, 0.5922391294706473, 0.610959034525332,
               0.6167140784626901, 0.6187444745539952, 0.6186587753213022, 0.6271608733630203, 0.6198073173044472,
               0.6333416160379335, 0.6243777001417552, 0.6307524841846954, 0.6387187908852185, 0.6349529335116062,
               0.6261015333511033, 0.6524281520742699, 0.64378670359724, 0.6488611954029708, 0.6463437590696863,
               0.6408715382685555, 0.6472196316623715, 0.658821860859883, 0.6585627925627948, 0.6577941261383082,
               0.6423291830868307, 0.6599661683952851, 0.6724267454634467, 0.663412731433743, 0.6589943992477738,
               0.6539445427562751, 0.6432492312206199, 0.6613344533814796, 0.6650916713367623, 0.6572443707849436,
               0.6583439120240722, 0.6651564218872885, 0.666627513445138, 0.6609830066609477, 0.6671603449438241,
               0.661554453372698, 0.6560988308268876, 0.6644519463488283, 0.6599664538327552, 0.6677966619881226,
               0.6698245376514576, 0.6598322369303766, 0.666448934063939, 0.6716493364271163, 0.6754824734319516,
               0.6685743341956771, 0.6708910699988957, 0.6721968404257233, 0.6748996299270271, 0.6610548541714054,
               0.676349283101106, 0.6651444403192717, 0.6709243650327796, 0.6746013836617522, 0.6734328894297752,
               0.6797572891166048, 0.6767710972318903, 0.6730170516562572, 0.6674253791582696, 0.6732923797297536,
               0.6683719267529831, 0.6691545641452246, 0.6766857225446965, 0.6688565777107802, 0.6698117592799195,
               0.6667685922785584, 0.6737916126601862, 0.6737916126601862, 0.6737916126601862, 0.6737916126601862,
               0.6738329414180841, 0.6780230154859614, 0.6750161774888026, 0.6761367141534702, 0.6782189177363467,
               0.6762644454083098, 0.6691905185432878, 0.6769960014473697, 0.6738054103897715, 0.6693426312626638,
               0.6694747855993786, 0.67137488929367, 0.6708982497491394, 0.6696951973658627, 0.6696951973658627]

# 绘制图表
plt.plot(users[10:70:10], utility_qdrdfl[8:68:10], 'b--s', label='QD-RDFL')  # 蓝色虚线，方形标记
plt.plot(users[10:70:10], utility_random[8:68:10], 'g--^', label='RANDOM')  # 绿色虚线，三角形标记
plt.plot(users[10:70:10], utility_fix[8:68:10], 'r--o', label='Fix')  # 红色虚线，圆形标记

# 添加图例
plt.legend(fontsize=12)

print(utility_random[8:68:10])

plt.tick_params(axis='x', labelsize=12)
plt.tick_params(axis='y', labelsize=12)

# 设置标题和坐标轴标签
plt.xlabel(r'$N$')
plt.ylabel(r'$U_s$')

# 显示网格
plt.grid(True)

# 显示图表
plt.show()
