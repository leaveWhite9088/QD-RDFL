import matplotlib.pyplot as plt
import numpy as np

# 定义用户数量
users = np.arange(0, 100)

# 定义不同策略下的BS效用
utility_qdrdfl = [0.09749147610231523, 0.09988313870217491, 0.07129893798399481, 0.0493705073901999,
                  0.03553612428109117, 0.027564302276545778, 0.02194034792741792, 0.01798107446644955,
                  0.015142008920780391, 0.012378635831098016, 0.010716056512740288, 0.009259574004011374,
                  0.008544801971255607, 0.010550470731161325, 0.007102911163734876, 0.005854521079278458,
                  0.005587776936582769, 0.005230513912331822, 0.005117386908436272, 0.0043419910910529,
                  0.004111485534181936, 0.004830217186884676, 0.004300463654715619, 0.0040298731285013465,
                  0.003830302006696463, 0.0035141838974024095, 0.003543202004430154, 0.0032332464536197376,
                  0.0029711850131214136, 0.0027688784627288997, 0.0028092093484979527, 0.0028040721825461842,
                  0.002870337145290731, 0.0026839828102844733, 0.0022811806357532277, 0.0025005195796779078,
                  0.002235347275461433, 0.002688164820289634, 0.002069339816244431, 0.0026546613576372397,
                  0.00232064437551189, 0.0020975367032485983, 0.0020494682328679155, 0.0025990830692030455,
                  0.001973204518208801, 0.00200228398144175, 0.0019873146989265824, 0.002343444801675893,
                  0.0018856180724913507, 0.0022066939272579866, 0.002040558584835697, 0.0018240587308813172,
                  0.0017002505347002963, 0.0018854455556478467, 0.0017144896928464604, 0.00154652506751029,
                  0.0018044728623202166, 0.0037900844116173097, 0.001733087035942719, 0.0018614692942492388,
                  0.0018391558188761846, 0.0020835944223122865, 0.001821842849925124, 0.0018493335276226345,
                  0.001545065946009601, 0.0016452320906034912, 0.0018091718437908198, 0.001359540371353915,
                  0.0015731906418544194, 0.003092890553616041, 0.0016002484077012448, 0.0030355904087718136,
                  0.0037626723547163356, 0.0035009408856420342, 0.0032797556764114833, 0.004747029731370969,
                  0.0036979349710257623, 0.0031988797722325812, 0.0034813922241148654, 0.004706877457156021,
                  0.00353904601371542, 0.0031863751466963174, 0.004177383108373715, 0.003829382974848105,
                  0.013420899085871333, 0.0013428354164467845, 0.004196766883055919, 0.0032541813194138457,
                  0.004446187599620776, 0.004196943819642361, 0.004499438803251393, 0.005409148652089257,
                  0.004492398662278354, 0.0037640711689072262, 0.0400705500508897, 0.004750765681476509,
                  0.006024003844450873, 0.004624981639382476, 0.004165062691110384, 0.0049605632672243]

utility_random = [0.08213788247336502, 0.09198225002563665, 0.0673813986731992, 0.030367909320942778,
                  0.03299446999614478, 0.022776734289478368, 0.012659847412822209, 0.009972686781240513,
                  0.010126345071259545, 0.007703047465306912, 0.009363737739028358, 0.008956972511427899,
                  0.006689831297040959, 0.009954094788049324, 0.004902450554690345, 0.005335868333107076,
                  0.005264221756769044, 0.004963117559649773, 0.004981107911621296, 0.003944431851546798,
                  0.0036245967088251703, 0.004499446419972778, 0.0035413548596306965, 0.0030914784015220052,
                  0.0021994630673842475, 0.0024090402978423826, 0.0035358618413917392, 0.0031932023732281385,
                  0.002144327103439777, 0.0017818668738462367, 0.00213351780726799, 0.0015644427779355182,
                  0.002728373874034312, 0.002292442967347043, 0.0015682985391342083, 0.0012811744206998718,
                  0.002185536069544893, 0.002411144494816657, 0.0016458168141911089, 0.002420441168138115,
                  0.002204406306614464, 0.0015269496373261256, 0.0015995695743990007, 0.0014251335794876092,
                  0.0018354441125838746, 0.0010097571692287929, 0.0015193747290237203, 0.0019357422630304523,
                  0.0015891943028454492, 0.0011411686994316614, 0.001074058562754142, 0.0016445517967796437,
                  0.0010607304202935525, 0.0014851664120063598, 0.0011311084270945796, 0.0012131719612277624,
                  0.0014578070943636172, 0.0029453512078951257, 0.0013535914814267228, 0.0017315667950897258,
                  0.0017909114052211297, 0.0015315782044626831, 0.0017827387255145086, 0.0015274966627902295,
                  0.0010293877901803381, 0.0011401680162511326, 0.001084503939189017, 0.0011899198999469735,
                  0.0015318962449093413, 0.0015318962449093413, 0.0014084266462237964, 0.0014084266462237964,
                  0.002193973132276542, 0.001797872207785097, 0.001797872207785097, 0.001797872207785097,
                  0.0020993091963494204, 0.0020568521558895644, 0.0020510259226395435, 0.0020510259226395435,
                  0.0020510259226395435, 0.0017038144283625218, 0.002178257186936753, 0.002178257186936753,
                  0.007899471176228346, 0.007899471176228346, 0.002297178696249155, 0.002297178696249155,
                  0.002297178696249155, 0.002297178696249155, 0.002297178696249155, 0.002297178696249155,
                  0.002297178696249155, 0.002297178696249155, 0.021351548486142218, 0.021351548486142218,
                  0.021351548486142218, 0.0023466660630127372, 0.0023466660630127372, 0.0023466660630127372]

utility_fix = [0.2506925207667152, 0.11212414259284127, 0.0635687311508103, 0.04135724695051226, 0.028856238959599396,
               0.02151873876165849, 0.016617873413123554, 0.013428096068010875, 0.011289979319379395,
               0.00907357997683727, 0.00783481027381929, 0.006670353814373582, 0.006231829808515633,
               0.005156318997326063, 0.00518500933933614, 0.004170820606033491, 0.004029112853933869,
               0.003717139164159932, 0.0036316086915327006, 0.0030615668792397257, 0.0029135342909116287,
               0.0034296732091735967, 0.0030353804972681614, 0.0028369342648229125, 0.0026982029752961,
               0.002491902645975833, 0.0024877880288229626, 0.002274016564371436, 0.0020905714533956993,
               0.001922392618440294, 0.0019593391914639047, 0.001975982296258273, 0.001998757478740542,
               0.0018736136402114514, 0.0015972195446571234, 0.0017360808492493662, 0.001555357522339946,
               0.0018761703185748648, 0.0014329757877609706, 0.0018537507340316603, 0.0016174609942554204,
               0.0014551063730035576, 0.0014185517242735202, 0.0018154302953953285, 0.0013662987034784373,
               0.001386078241117732, 0.0013799469944562465, 0.001636723673951979, 0.0013023530494696489,
               0.0015266008023098448, 0.001418677938706946, 0.0012672813242237335, 0.0011749321681421903,
               0.001312475007895704, 0.0011874296532020676, 0.0010672743336778009, 0.0012458567507510736,
               0.0012099613198180812, 0.0011967232636414546, 0.0012956119161035352, 0.001266363523722094,
               0.0014392299085327442, 0.0012567968928462441, 0.0012761020431672821, 0.001064343571948653,
               0.001134027188906776, 0.0012442259162267538, 0.0009369139119819406, 0.0010888170188563093,
               0.0013388769499761359, 0.0011007491722035473, 0.001271798034393903, 0.0013938882759222783,
               0.0013142860472904264, 0.0012450986858544902, 0.0015014692570683376, 0.0012782734857031224,
               0.0011602455438339723, 0.001191644895879075, 0.0013901575924254149, 0.001159900863854547,
               0.0010760416212309042, 0.0010760416212309042, 0.0010760416212309042, 0.0010760416212309042,
               0.0009216079849167777, 0.0011550222933337405, 0.0009827753996807318, 0.0011577184709550257,
               0.0011014148440296316, 0.0011304050154862847, 0.001244817779419273, 0.001095612808838854,
               0.0009719086048316097, 0.0010919245270690746, 0.0010843350879937341, 0.001237230720548303,
               0.001237230720548303, 0.0009596382393746539, 0.0009596382393746539]

# 绘制图表
plt.plot(users[10:70:10], utility_qdrdfl[8:68:10], 'b--s', label='QD-RDFL')  # 蓝色虚线，方形标记
plt.plot(users[10:70:10], utility_random[8:68:10], 'g--^', label='RANDOM')  # 绿色虚线，三角形标记
plt.plot(users[10:70:10], utility_fix[8:68:10], 'r--o', label='Fix')  # 红色虚线，圆形标记

# 添加图例
plt.legend()

# 设置标题和坐标轴标签
plt.xlabel('Number of clients')
plt.ylabel('average Uqn')

# 显示网格
plt.grid(True)

# 显示图表
plt.show()
